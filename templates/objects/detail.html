{% extends 'objects/index.html' %}
{% from objects.models import Setting %]

{% block body_contents %}
<div class="row">
    <div class="row col-lg-9">
        <div class="col-lg-6 round-box">
            <h3>{{ obj.name }}</h3>

            <p><code>S/N: {{ obj.serial }}</code></p>

            <p><code>P/N: {{ obj.item }}</code></p>

            <p><code>IP: {{ obj.primary_ip }}</code></p>
        </div>
        <div class="col-lg-6 round-box">
            <h3>{{ obj.worksite.customer.name }}</h3>

            <p><code>{{ obj.worksite.fulltext|linebreaksbr }}
                {{ obj.location }}</code></p>
        </div>
        <div class="col-lg-12 text-center">
            <h4>Dati</h4>
        </div>
        {% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}
        {% regroup obj.settings_set.all by type.group as setting_list %}
        {% for setitem in setting_list %}
        <div class="col-lg-6 round-box">
            <h3>{{ setitem.grouper }}</h3>
            {% for val in setitem.list %}
            <p><strong>{{ val.type.name }}</strong>
            <pre>{{ val.value }}</pre>
            </p>
            {% endfor %}
        </div>
        {% endfor %}
    </div>
    <div class="row col-lg-3 round-box">
        <h3>Attivit√†</h3>

        <div class="bg-info" style="min-height:450px;">
            <h4>Da eseguire</h4>
            {% include "ittasks/tasklist.html" with tasks_toread=openedtasks %}
            <hr/>
            <h4>Eseguite</h4>
            {% include "ittasks/tasklist.html" with tasks_toread=closedtasks %}

        </div>
    </div>

</div>
{% endblock body_contents %}